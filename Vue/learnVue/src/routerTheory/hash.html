<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hash router</title>
</head>
<body>
    <p> hash test </p>
    <button id="btn"> 修改 hash </button>

    <script>
        // hash 变化，包括
        // a.  js 修改 url
        // b. 手动修改 url 的 hash
        // c. 浏览器的前进和后退
        window.onhashchange = (event) => {
            console.log('old url ', event.oldURL);
            console.log('new url ', event.newURL);
            console.log('hash ', location.hash);
        }

        // 页面初次加载 获取 hash
         document.addEventListener('DOMContentLoaded', ()=>{
             console.log('hash ', location.hash);
         });

         // js 修改 url
         document.getElementById('btn').addEventListener('click', ()=> {
            location.hash = '#/user';
         })
    </script>
</body>
</html>